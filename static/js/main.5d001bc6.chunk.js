(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},15:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(1),o=n.n(a),i=(n(15),n(9)),l=n(3),u="EMPTY",s="CROSS",f="NOUGHT",m="Crosses",d="Noughts",E="Nobody's",g="PLAYING",_="CROSSES_WINS",y="NOUGHTS_WINS",h="DRAW",b=function(e,t){return Object.assign({},e,t)},p=function(e,t){return{x:e%t,y:Math.floor(e/t)}},S={cells:Array(9).fill(null).map((function(){return{symbol:u,isVictorious:!1}})),turn:m,gameStage:g},w="SET_CELLS",C="SET_TURN",N="SET_GAME_STAGE",v="RESTART_GAME",k=function(e){return{type:w,payload:e}},O=function(e){return{type:C,payload:e}},T=function(e){return{type:N,payload:e}},R=function(){return{type:v,payload:null}},V=(n(22),function(e,t,n,r){return c.a.createElement("div",{key:n,onClick:r,className:"battlefield__cell battlefield__cell--".concat(e," ").concat(t?"battlefield__cell--victory":"")},c.a.createElement("svg",{width:"50",height:"50"},c.a.createElement("use",{xlinkHref:"#".concat(e)})))}),I=function(e){var t=e.cells,n=e.turn,r=e.onCellClick;return c.a.createElement("div",{className:"game-screen__battlefield battlefield"},t.map((function(e,a){var o=function(){r(a,t,n)};switch(e.symbol){case s:return V("cross",e.isVictorious,a,o);case f:return V("nought",e.isVictorious,a,o);case u:default:return c.a.createElement("div",{key:a,onClick:o,className:"battlefield__cell"})}})))},A=Object(l.b)((function(e){return{cells:e.cells,turn:e.turn,gameStage:e.gameStage}}),(function(e){return{onCellClick:function(t,n,r){if(n[t].symbol===u){var c=n.map((function(e){return Object(i.a)({},e)}));if(r===m)c[t].symbol=s;else{if(r!==d)return;c[t].symbol=f}e(k(c)),!function(e,t){var n=p(t,3),r=function(e){return function(t,n){var r=p(n,3);return e(r.x,r.y)}},c=function(n){return n.symbol===e[t].symbol},a=e.filter(r((function(e,t){return t===n.y}))),o=e.filter(r((function(e){return e===n.x}))),i=e.filter(r((function(e,t){return e===t}))),l=e.filter(r((function(e,t){return e===3-t-1})));switch(!0){case 3===a.filter(c).length:return a.forEach((function(e){return e.isVictorious=!0})),!0;case 3===o.filter(c).length:return o.forEach((function(e){return e.isVictorious=!0})),!0;case 3===i.filter(c).length:return i.forEach((function(e){return e.isVictorious=!0})),!0;case 3===l.filter(c).length:return l.forEach((function(e){return e.isVictorious=!0})),!0;default:return!1}}(c,t)?c.filter((function(e){return e.symbol!==u})).length===c.length?(e(T(h)),e(O(E))):e(O(function(e){switch(e){case m:return d;case d:return m;case E:return E;default:throw new Error("Unsupported turn type: ".concat(e))}}(r))):(e(T(function(e){switch(e){case m:return _;case d:return y;default:throw new Error("Invalid turn type: ".concat(e))}}(r))),e(O(E)))}},onRestartButtonClick:function(){e(R())}}}))((function(e){var t=e.cells,n=e.turn,r=e.gameStage,a=e.onCellClick,o=e.onRestartButtonClick,i="Let's play!";switch(r){case g:i="Waiting for ".concat(n,"...");break;case y:i="".concat(d," wins! ").concat(String.fromCodePoint(128079));break;case _:i="".concat(m," wins! ").concat(String.fromCodePoint(128079));break;case h:i="It's a draw, so friendship won! ".concat(String.fromCodePoint(128074))}return c.a.createElement("section",{className:"game-screen"},c.a.createElement("div",{className:"game-screen__status-bar"},i),c.a.createElement(I,{cells:t,turn:n,onCellClick:a}),c.a.createElement("div",{className:"game-screen__footer"},c.a.createElement("button",{onClick:o,className:"button"},c.a.createElement("span",null,"Restart game"))))})),G=n(2),L=Object(G.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return b(e,{cells:t.payload});case C:return b(e,{turn:t.payload});case N:return b(e,{gameStage:t.payload});case v:return S;default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e});o.a.render(c.a.createElement(l.a,{store:L},c.a.createElement(A,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.5d001bc6.chunk.js.map